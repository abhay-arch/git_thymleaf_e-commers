<!DOCTYPE html>
<html lang="en" xlmns:th="https://www.thymeleaf.org/">


<head>

<title>Product list</title>
 <!-- Required meta tags -->
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>

<body>

	<div class="container">
	<div><a th:href='@{/product/addProduct}' class="btn btn-dark">Add Product</a>
	</div>
	
	<form th:action="@{/product/productlist}" align="center">
    Filter: <input type="text" placeholder="filter by name or categoryid" name="field" id="field" size="50" th:value="${field}" required />
    &nbsp;
    <input type="submit" value="Search" />
    &nbsp;
    <input type="button" value="Clear" id="btnClear" onclick="clearSearch()" />
</form>
	
	
	&nbsp;
		<table class=" table table-borderd">
			<tr>
				<th> ID </th>
				<th> sku </th>
				<th> productname </th>
				<th> descriptions</th>
				<th> UNITPRICE</th>
				<th> IMAGEURL</th>
				<th> UNITSINSTOCK</th>
				<th> DATECREATED</th>
				<th> LASTUPDATED</th>
				<th> CATEGORYID</th>
				
				<th>Action </th>
			</tr>

			<tr th:each="pro : ${PRODUCT}">
			
			<td th:text=" ${pro.id}"></td> 
			<td th:text=" ${pro.sku}"></td> 
			<td th:text=" ${pro.productname}"></td> 
			<td th:text=" ${pro.descriptions}"></td>
			<td th:text=" ${pro.uniteprice}"></td>
			<td th:text=" ${pro.imageurl}"></td>
			<td th:text=" ${pro.unitinstock}"></td>
			<td th:text=" ${pro.datecreated}"></td>
			<td th:text=" ${pro.lastupdated}"></td>
			<td th:text=" ${pro.categoryid}"></td>
			<td><a th:href='@{/product/updateForm(proId = ${pro.id})}' class="btn btn-dark">Update</a>
				&nbsp;
			 	<a class="btn btn-dark" th:href="@{/product/delete(proId = ${pro.id})}"
			 	onclick = "if(!(confirm('Are you sure to delete details?')))">Delete</a>
			</td>
			</tr>

		</table>

	</div>

</body>

<script type="text/javascript">
    function clearSearch() {
        window.location = "[[@{/product/productlist}]]";
    }
</script>

</html>